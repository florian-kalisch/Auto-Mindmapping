"use strict";(self.webpackChunkauto_mindmapping=self.webpackChunkauto_mindmapping||[]).push([[190],{8190:function(t,e,a){a.r(e),a.d(e,{diagram:function(){return h}});var r=a(7201),i=a(8735),n=a(8584),d=a(8433),o=a(2954),s=a(2997),p=a(4299),l=(a(504),a(8703),a(7892),{}),c=function(t){var e=Object.entries(l).find((function(e){return e[1].label===t}));if(e)return e[0]},g={draw:function(t,e,a,r){var g=(0,o.g)().class;l={},o.l.info("Rendering diagram "+t);var h,u=(0,o.g)().securityLevel;"sandbox"===u&&(h=(0,i.Ys)("#i"+e));var f,x="sandbox"===u?(0,i.Ys)(h.nodes()[0].contentDocument.body):(0,i.Ys)("body"),y=x.select("[id='".concat(e,"']"));(f=y).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),f.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),f.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),f.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),f.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),f.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),f.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),f.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");var m=new d.k({multigraph:!0});m.setGraph({isMultiGraph:!0}),m.setDefaultEdgeLabel((function(){return{}}));for(var v=r.db.getClasses(),b=0,w=Object.keys(v);b<w.length;b++){var k=w[b],E=v[k],L=s.s.drawClass(y,E,g,r);l[L.id]=L,m.setNode(L.id,L),o.l.info("Org height: "+L.height)}r.db.getRelations().forEach((function(t){o.l.info("tjoho"+c(t.id1)+c(t.id2)+JSON.stringify(t)),m.setEdge(c(t.id1),c(t.id2),{relation:t},t.title||"DEFAULT")})),r.db.getNotes().forEach((function(t){o.l.debug("Adding note: ".concat(JSON.stringify(t)));var e=s.s.drawNote(y,t,g,r);l[e.id]=e,m.setNode(e.id,e),t.class&&t.class in v&&m.setEdge(t.id,c(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")})),(0,n.bK)(m),m.nodes().forEach((function(t){void 0!==t&&void 0!==m.node(t)&&(o.l.debug("Node "+t+": "+JSON.stringify(m.node(t))),x.select("#"+(r.db.lookUpDomId(t)||t)).attr("transform","translate("+(m.node(t).x-m.node(t).width/2)+","+(m.node(t).y-m.node(t).height/2)+" )"))})),m.edges().forEach((function(t){void 0!==t&&void 0!==m.edge(t)&&(o.l.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(m.edge(t))),s.s.drawEdge(y,m.edge(t),m.edge(t).relation,g,r))}));var T=y.node().getBBox(),M=T.width+40,N=T.height+40;(0,p.c)(y,N,M,g.useMaxWidth);var B="".concat(T.x-20," ").concat(T.y-20," ").concat(M," ").concat(N);o.l.debug("viewBox ".concat(B)),y.attr("viewBox",B)}},h={parser:r.p,db:r.d,renderer:g,styles:r.s,init:function(t){t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,r.d.clear()}}},2997:function(t,e,a){a.d(e,{p:function(){return o},s:function(){return h}});var r=a(8735),i=a(5178),n=a(2954),d=0,o=function(t){var e=t.match(/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/),a=t.match(/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/);return e&&!a?s(e):a?p(a):l(t)},s=function(t){var e="",a="";try{var r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",d=t[3]?(0,n.p)(t[3].trim()):"",o=t[4]?t[4].trim():"",s=t[5]?t[5].trim():"";a=r+i+d+" "+o,e=g(s)}catch(p){a=t}return{displayText:a,cssStyle:e}},p=function(t){var e="",a="";try{var r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",d=t[3]?(0,n.p)(t[3].trim()):"",o=t[4]?t[4].trim():"";a=r+i+"("+d+")"+(t[5]?" : "+(0,n.p)(t[5]).trim():""),e=g(o)}catch(s){a=t}return{displayText:a,cssStyle:e}},l=function(t){var e="",a="",r="",i=t.indexOf("("),d=t.indexOf(")");if(i>1&&d>i&&d<=t.length){var o="",s="",p=t.substring(0,1);p.match(/\w/)?s=t.substring(0,i).trim():(p.match(/[#+~-]/)&&(o=p),s=t.substring(1,i).trim());var l=t.substring(i+1,d);t.substring(d+1,1),a=g(t.substring(d+1,d+2)),e=o+s+"("+(0,n.p)(l.trim())+")",d<t.length&&""!==(r=t.substring(d+2).trim())&&(e+=r=" : "+(0,n.p)(r))}else e=(0,n.p)(t);return{displayText:e,cssStyle:a}},c=function(t,e,a,r){var i=o(e),n=t.append("tspan").attr("x",r.padding).text(i.displayText);""!==i.cssStyle&&n.attr("style",i.cssStyle),a||n.attr("dy",r.textHeight)},g=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},h={drawClass:function(t,e,a,r){n.l.debug("Rendering class ",e,a);var i,d=e.id,o={id:d,label:e.id,width:0,height:0},s=t.append("g").attr("id",r.db.lookUpDomId(d)).attr("class","classGroup");i=e.link?s.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",a.textHeight+a.padding).attr("x",0):s.append("text").attr("y",a.textHeight+a.padding).attr("x",0);var p=!0;e.annotations.forEach((function(t){var e=i.append("tspan").text("\xab"+t+"\xbb");p||e.attr("dy",a.textHeight),p=!1}));var l=e.id;void 0!==e.type&&""!==e.type&&(l+="<"+e.type+">");var g=i.append("tspan").text(l).attr("class","title");p||g.attr("dy",a.textHeight);var h=i.node().getBBox().height,u=s.append("line").attr("x1",0).attr("y1",a.padding+h+a.dividerMargin/2).attr("y2",a.padding+h+a.dividerMargin/2),f=s.append("text").attr("x",a.padding).attr("y",h+a.dividerMargin+a.textHeight).attr("fill","white").attr("class","classText");p=!0,e.members.forEach((function(t){c(f,t,p,a),p=!1}));var x=f.node().getBBox(),y=s.append("line").attr("x1",0).attr("y1",a.padding+h+a.dividerMargin+x.height).attr("y2",a.padding+h+a.dividerMargin+x.height),m=s.append("text").attr("x",a.padding).attr("y",h+2*a.dividerMargin+x.height+a.textHeight).attr("fill","white").attr("class","classText");p=!0,e.methods.forEach((function(t){c(m,t,p,a),p=!1}));var v=s.node().getBBox(),b=" ";e.cssClasses.length>0&&(b+=e.cssClasses.join(" "));var w=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",v.width+2*a.padding).attr("height",v.height+a.padding+.5*a.dividerMargin).attr("class",b).node().getBBox().width;return i.node().childNodes.forEach((function(t){t.setAttribute("x",(w-t.getBBox().width)/2)})),e.tooltip&&i.insert("title").text(e.tooltip),u.attr("x2",w),y.attr("x2",w),o.width=w,o.height=v.height+a.padding+.5*a.dividerMargin,o},drawEdge:function(t,e,a,o,s){var p=function(t){switch(t){case s.db.relationType.AGGREGATION:return"aggregation";case s.db.relationType.EXTENSION:return"extension";case s.db.relationType.COMPOSITION:return"composition";case s.db.relationType.DEPENDENCY:return"dependency";case s.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter((function(t){return!Number.isNaN(t.y)}));var l,c,g=e.points,h=(0,r.jvg)().x((function(t){return t.x})).y((function(t){return t.y})).curve(r.$0Z),u=t.append("path").attr("d",h(g)).attr("id","edge"+d).attr("class","relation"),f="";o.arrowMarkerAbsolute&&(f=(f=(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==a.relation.lineType&&u.attr("class","relation dashed-line"),10==a.relation.lineType&&u.attr("class","relation dotted-line"),"none"!==a.relation.type1&&u.attr("marker-start","url("+f+"#"+p(a.relation.type1)+"Start)"),"none"!==a.relation.type2&&u.attr("marker-end","url("+f+"#"+p(a.relation.type2)+"End)");var x,y,m,v,b=e.points.length,w=i.u.calcLabelPosition(e.points);if(l=w.x,c=w.y,b%2!==0&&b>1){var k=i.u.calcCardinalityPosition("none"!==a.relation.type1,e.points,e.points[0]),E=i.u.calcCardinalityPosition("none"!==a.relation.type2,e.points,e.points[b-1]);n.l.debug("cardinality_1_point "+JSON.stringify(k)),n.l.debug("cardinality_2_point "+JSON.stringify(E)),x=k.x,y=k.y,m=E.x,v=E.y}if(void 0!==a.title){var L=t.append("g").attr("class","classLabel"),T=L.append("text").attr("class","label").attr("x",l).attr("y",c).attr("fill","red").attr("text-anchor","middle").text(a.title);window.label=T;var M=T.node().getBBox();L.insert("rect",":first-child").attr("class","box").attr("x",M.x-o.padding/2).attr("y",M.y-o.padding/2).attr("width",M.width+o.padding).attr("height",M.height+o.padding)}(n.l.info("Rendering relation "+JSON.stringify(a)),void 0!==a.relationTitle1&&"none"!==a.relationTitle1)&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",x).attr("y",y).attr("fill","black").attr("font-size","6").text(a.relationTitle1);void 0!==a.relationTitle2&&"none"!==a.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",m).attr("y",v).attr("fill","black").attr("font-size","6").text(a.relationTitle2);d++},drawNote:function(t,e,a,r){n.l.debug("Rendering note ",e,a);var i=e.id,d={id:i,text:e.text,width:0,height:0},o=t.append("g").attr("id",i).attr("class","classGroup"),s=o.append("text").attr("y",a.textHeight+a.padding).attr("x",0),p=JSON.parse('"'.concat(e.text,'"')).split("\n");p.forEach((function(t){n.l.debug("Adding line: ".concat(t)),s.append("tspan").text(t).attr("class","title").attr("dy",a.textHeight)}));var l=o.node().getBBox(),c=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",l.width+2*a.padding).attr("height",l.height+p.length*a.textHeight+a.padding+.5*a.dividerMargin).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(c-t.getBBox().width)/2)})),d.width=c,d.height=l.height+p.length*a.textHeight+a.padding+.5*a.dividerMargin,d},parseMember:o}}}]);
//# sourceMappingURL=190.6d59f0ad.chunk.js.map